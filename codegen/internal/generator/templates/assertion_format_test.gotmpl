{{ comment .Copyright }}

// Code generated with {{ .Tool }}; DO NOT EDIT.

package {{ .Package }}

{{- if .Imports.HasImports }}

import (
  "testing"
{{ imports .Imports }}
)
{{- end }}

{{- range .Functions }}
  {{- if or (not .IsGeneric) ($.EnableGenerics) }}
    {{- if and (not .IsHelper) (not .IsConstructor) }}

func Test{{ .Name }}f(t *testing.T) {
  t.Parallel()

      {{- if (not .HasTest) }}{{/* no testcases captured from the Example section of the original function */}}
	t.Skip() // this function doesn't have tests yet: feed the original function with examples to test.
      {{- else }}
        {{- $fn := . }}
        {{- $isRequire := (eq $.Package "require") }}
        {{- $first := true }}
        {{- range .Tests }}
          {{- if eq .ExpectedOutcome 0 }}{{/* TestSuccess */}}
            {{- if (not $first) }}{{ println "" }}{{- end }}{{ $first = false }}
	t.Run("success", func(t *testing.T) {
    t.Parallel()

{{- if $isRequire }}
		{{ $fn.Name }}f(t, {{ .TestedValue }}, "test message")
		// require functions don't return a value
{{- else }}
		result := {{ $fn.Name }}f(t, {{ .TestedValue }}, "test message")
		if !result {
			t.Error("{{ $fn.Name }}f should return true on success")
		}
{{- end }}
	})
          {{- else if eq .ExpectedOutcome 1 }}{{/* TestFailure */}}
            {{- if (not $first) }}{{ println "" }}{{- end }}{{ $first = false }}
	t.Run("failure", func(t *testing.T) {
    t.Parallel()

		mock := new({{ $fn.UseMock }})
            {{- if $isRequire }}
		{{ $fn.Name }}f(mock, {{ .TestedValue }}, "test message")
		// require functions don't return a value
            {{- else }}
		result := {{ $fn.Name }}f(mock, {{ .TestedValue }}, "test message")
		if result {
			t.Error("{{ $fn.Name }}f should return false on failure")
		}
            {{- end }}
		if !mock.failed {
      			t.Error("{{ $fn.Name }} {{ if eq $fn.UseMock "mockFailNowT" }}should call FailNow(){{ else }}should mark test as failed{{ end }}")
		}
	})
          {{- else if eq .ExpectedOutcome 2 }}{{/* TestPanic */}}
            {{- if (not $first) }}{{ println "" }}{{- end }}{{ $first = false }}
	t.Run("panic", func(t *testing.T) {
    t.Parallel()

		Panicsf(t, func() {
			{{ $fn.Name }}f(t, {{ .TestedValue }}, "test message")
		}, "{{ .AssertionMessage }}")
	})
          {{- end }}
        {{- end }}
      {{- end }}
}
    {{- end }}
  {{- end }}
{{- end }}
