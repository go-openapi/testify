{{ comment .Copyright }}

// Code generated with {{ .Tool }}; DO NOT EDIT.

package {{ .Package }}

import (
  "net/http"
  "path/filepath"
  "testing"
{{ imports .Imports }}
)

{{- range .Functions.Scope "include-generics" . }}
  {{- /* setting the appropriate context to call the test template */}}
  {{- $call := ( printf "%s%s(mock, " .Name .GenericSuffix ) }}
  {{- $mock := ( printf "mock := new(%s)" .UseMock ) }}
  {{- $errorPrefix := .Name }}
  {{- $panic := "Panics(t, " }}
  {{- $mockFailure := .FailMsg }}
  {{- $context := .WithTestCall $call }}
  {{- $context = $context.WithTestMock $mock }}
  {{- $context = $context.WithTestErrorPrefix $errorPrefix }}
  {{- $context = $context.WithTestPanicWrapper $panic }}
  {{- $context = $context.WithTestMockFailure $mockFailure }}

func Test{{ .Name }}(t *testing.T) {
{{- template "test-case" $context }}
}
{{- end }}

// mockT is a mock testing.T for assertion tests
type mockT struct {
	failed bool
}

func (m *mockT) Helper() {}

func (m *mockT) Errorf(format string, args ...any) {
	m.failed = true
}

type mockFailNowT struct {
	failed bool
}

// Helper is like [testing.T.Helper] but does nothing.
func (mockFailNowT) Helper() {}

func (m *mockFailNowT) Errorf(format string, args ...any) {
	_ = format
	_ = args
}

func (m *mockFailNowT) FailNow() {
	m.failed = true
}

{{ template "test-helpers" . }}
