{{ comment .Copyright }}

// Code generated with {{ .Tool }}; DO NOT EDIT.

package {{ .Package }}_test

import (
  "fmt"
  "net/http"
  "path/filepath"
  "runtime"
  "testing"
  "github.com/go-openapi/testify/v2/{{ .Package }}"
{{ imports .Imports }}
)

{{- $pkg := .Package }}
{{- $runnable := .RunnableExamples }}
{{- range .Functions.Scope "include-generics" . }}
  {{- if not .HasSuccessTest }}

// func Example{{ .Name }}() {
// no success example available. Please add some examples to produce a testable example.
// }
  {{- else }}

func Example{{ .Name }}() {
    {{- $fn := . }}
    {{- if eq $fn.Name "NoFileDescriptorLeak" }}{{/* handle special case for platform-specific assertion: example only runs on windows */}}
    if runtime.GOOS != "linux" {
      // This example is only runnable on linux. On other platforms, the assertion skips the test.
      // We force the expected output below, so that tests don't fail on other platforms. 
      {{- if eq $pkg "require" }}
      fmt.Println("passed")
      {{- else }}
      fmt.Println("success: true")
      {{- end }}

      return
    }
    {{ cr false }}
    {{- end }}
    {{- range .Tests }}
      {{- if .IsSuccess }}
        {{- cr .IsFirst }}
    t := new(testing.T) // should come from testing, e.g. func Test{{ $fn.Name }}(t *testing.T)
        {{- if .IsKindRequire }}
    {{ $pkg }}.{{ $fn.Name }}{{ $fn.GenericSuffix }}(t, {{ relocate .TestedValues $pkg }})
    fmt.Println("passed")
          {{- if $runnable }}

    // Output: passed
          {{- end }}
        {{- else }}
    success := {{ $pkg }}.{{ $fn.Name }}{{ $fn.GenericSuffix }}(t, {{ relocate .TestedValues $pkg }})
    fmt.Printf("success: %t\n", success)
          {{- if $runnable }}

    // Output: success: true
          {{- end }}
        {{- end }}
      {{- end }}

      {{- break }}{{/* just produce one single example, in case there are multiple success examples */}}
    {{- end }}
}
  {{- end }}
{{- end }}

// Test helpers (also in the tests for package {{ .Package }}.
//
// This code is duplicated because the current test is run as a separate test package: {{ .Package }}_test.
{{ template "test-helpers" .WithTestPackage }}
